import{a as D,b as O}from"./chunk-2DKNC2K5.js";import{a as b,c as E,d as w,h as B,i as k,j as I,k as R,p as _,q as G}from"./chunk-WEXMX465.js";import{b as T}from"./chunk-LSLGFS4J.js";import{a as x,b as a,d as S,e as F,h as C,i as h,j as M,n as q,o as y,q as N}from"./chunk-IA7DXKQX.js";import{$a as i,Ba as d,Eb as v,Ha as t,Ia as e,Ja as m,Pa as c,ia as s,ja as l,sa as p,sc as g,xb as f,xc as P}from"./chunk-Q2PGDZ6U.js";var j=class u{constructor(o,r,n,A){this.fb=o;this.apiService=r;this.snackBar=n;this.router=A;this.estudianteForm=this.fb.group({nombre:["",a.required],apellido:["",a.required],sexo:["",a.required],edad:["",a.required],escuela:["",a.required],nivel:["",a.required],correo:["",[a.required,a.email]],contrasena:["",[a.required,a.minLength(6)]],confirmarContrasena:["",a.required]},{validator:this.passwordsMatch})}estudianteForm;passwordsMatch(o){let r=o.get("contrasena")?.value,n=o.get("confirmarContrasena")?.value;return r===n?null:{mismatch:!0}}onSubmit(){if(this.estudianteForm.valid){let o={nombre:this.estudianteForm.value.nombre,apellido:this.estudianteForm.value.apellido,sexo:this.estudianteForm.value.sexo,edad:this.estudianteForm.value.edad,escuela:this.estudianteForm.value.escuela,nivel:this.estudianteForm.value.nivel,email:this.estudianteForm.value.correo,password:this.estudianteForm.value.contrasena,userType:"estudiante"};console.log("Datos enviados:",o),this.apiService.registerUser(o).subscribe(r=>{console.log("Estudiante registrado:",r),this.snackBar.open("Estudiante registrado exitosamente","Cerrar",{duration:3e3}),this.estudianteForm.reset(),this.router.navigate(["/login"])},r=>{console.error("Error al registrar estudiante:",r);let n=r.error?.message||"Error al registrar estudiante";this.snackBar.open(n,"Cerrar",{duration:3e3})})}else this.snackBar.open("Por favor completa todos los campos correctamente","Cerrar",{duration:3e3})}static \u0275fac=function(r){return new(r||u)(l(y),l(P),l(_),l(v))};static \u0275cmp=p({type:u,selectors:[["app-register-estudiantes"]],decls:65,vars:2,consts:[[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow-lg",2,"max-width","500px","width","100%","border-radius","12px"],[1,"text-center","mat-typography","mb-4"],[1,"d-flex","flex-column","gap-4",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","nombre","required",""],["matInput","","formControlName","apellido","required",""],["formControlName","sexo","required",""],["value","masculino"],["value","femenino"],["formControlName","edad","required",""],["value","8-9 a\xF1os"],["value","10-11 a\xF1os"],["value","11-12 a\xF1os"],["value","13-14 a\xF1os"],["value","15 o m\xE1s"],["formControlName","escuela","required",""],["value","E.B Tsunki"],["value","U.E Tobias Celestino Zanimba Gavilanes"],["formControlName","nivel","required",""],["value","basica"],["value","superior"],["matInput","","type","email","formControlName","correo","required",""],["matInput","","type","password","formControlName","contrasena","required",""],["matInput","","type","password","formControlName","confirmarContrasena","required",""],["mat-raised-button","","color","primary",1,"w-100",3,"disabled"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"Registro de Estudiantes"),e(),t(4,"form",3),c("ngSubmit",function(){return n.onSubmit()}),t(5,"mat-form-field",4)(6,"mat-label"),i(7,"Nombre"),e(),m(8,"input",5),e(),t(9,"mat-form-field",4)(10,"mat-label"),i(11,"Apellido"),e(),m(12,"input",6),e(),t(13,"mat-form-field",4)(14,"mat-label"),i(15,"Sexo"),e(),t(16,"mat-select",7)(17,"mat-option",8),i(18,"Masculino"),e(),t(19,"mat-option",9),i(20,"Femenino"),e()()(),t(21,"mat-form-field",4)(22,"mat-label"),i(23,"Edad"),e(),t(24,"mat-select",10)(25,"mat-option",11),i(26,"8-9 a\xF1os"),e(),t(27,"mat-option",12),i(28,"10-11 a\xF1os"),e(),t(29,"mat-option",13),i(30,"11-12 a\xF1os"),e(),t(31,"mat-option",14),i(32,"13-14 a\xF1os"),e(),t(33,"mat-option",15),i(34,"15 o m\xE1s"),e()()(),t(35,"mat-form-field",4)(36,"mat-label"),i(37,"Unidad Educativa"),e(),t(38,"mat-select",16)(39,"mat-option",17),i(40,"E.B Tsunki"),e(),t(41,"mat-option",18),i(42,"U.E Tobias Celestino Zanimba Gavilanes"),e()()(),t(43,"mat-form-field",4)(44,"mat-label"),i(45,"Nivel"),e(),t(46,"mat-select",19)(47,"mat-option",20),i(48,"5to a 7mo"),e(),t(49,"mat-option",21),i(50,"8vo a 10mo"),e()()(),t(51,"mat-form-field",4)(52,"mat-label"),i(53,"Correo"),e(),m(54,"input",22),e(),t(55,"mat-form-field",4)(56,"mat-label"),i(57,"Contrase\xF1a"),e(),m(58,"input",23),e(),t(59,"mat-form-field",4)(60,"mat-label"),i(61,"Confirmar Contrase\xF1a"),e(),m(62,"input",24),e(),t(63,"button",25),i(64," Registrar "),e()()()()),r&2&&(s(4),d("formGroup",n.estudianteForm),s(59),d("disabled",n.estudianteForm.invalid))},dependencies:[f,N,C,x,S,F,q,h,M,k,B,w,R,I,O,D,g,E,b,T,G],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa}.card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 4px 12px #0000001a;border-radius:12px}h2[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:500;color:#3f51b5}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{font-size:16px;font-weight:700}"]})};export{j as RegisterEstudiantesComponent};
